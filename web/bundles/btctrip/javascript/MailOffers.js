/*!
FRAMEWORK_VERSION:1.1.197
*/
registerNameSpace("Nibbler.MailOffers.js");Nibbler.MailOffers.js.EmailOfferRegister=function(a){var b={language:"es"};var b=$.extend(b,a);function c(d){var e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return e.test(d)}OpenEmailPopup=function(h,n,g,e){var i={es:{mailOnPopupTitle:"Suscripci&oacute;n a ofertas por e-mail",mailOnPopupText:'<div class="mailPopupCont"><strong class="mailPopupSubtitle">&iexcl;Gracias!</strong><p class="mailPopupText">A partir de ahora comenzar&aacute; a recibir ofertas de pasajes, hoteles, paquetes y mucho m&aacute;s en <strong>{mail}</strong></p></div>'},pt:{mailOnPopupTitle:"Receba as ofertas por e-mail",mailOnPopupText:'<div class="mailPopupCont"><strong class="mailPopupSubtitle">Obrigado!</strong><p class="mailPopupText">A partir de agora voc&ecirc; ira receber as melhores ofertas de passagens, hot&eacute;is, pacotes e muito mais no <strong>{mail}</strong></p></div>'}};if((g!="es")&&(g!="pt")){g="es"}var j="";var m="";var k=0;var d=0;j=i[g].mailOnPopupTitle;m=i[g].mailOnPopupText;var l=$("#emailRegisPopup");if(l.length>0){$(".titlePopUp",l).html(j);$(".popUpContent",l).append(m.replace("{mail}",h)).find(".mailPopupCont:eq(0)").remove()}else{l=Common.PopupCreatorNew({id:"emailRegisPopup",noPuntita:true,title:("<span>"+j+"</span>")});$(".popUpContent",l).append(m.replace("{mail}",h));$("body").append(l)}k=$(e+" input").offset().top+"px";d=($(document).width()/2)-(l.width()/2);l.css({"z-index":250,top:k,left:787}).show();var f=(b.language=="pt")?"Insira seu e-mail":"Ingrese su e-mail";$(e+" input").val(f).removeClass("inputFocus");$(".btnBlue",l).live("click",function(){$(".closeWindow",l).click()});$(e+" .errorInputText").hide();$(e+" .errorCrossIcon").hide();$(e+" input.offersInput").removeClass("errorSuscribe")};return{suscribe:function(e,d,f,g,h,i){if(!i==""){i=i+"/"}if(f==1){if(c(e)){$.ajax({url:"/subscriptions-ui/subscriptions/subscribe/"+i+"?email="+e,type:"POST"}).done(function(){OpenEmailPopup(e,"/subscriptions-ui/subscriptions/subscribe/"+i+"?email="+e,b.language,h)});$(h+" .errorInputText").hide();$(h+" .errorCrossIcon").hide();$(h+" input.offersInput").removeClass("errorSuscribe")}else{$(h+" .errorInputText").show();$(h+" .errorCrossIcon").show();$(h+" input.offersInput").addClass("errorSuscribe")}return false}}}};registerNameSpace("Nibbler.MailOffers.js");Nibbler.MailOffers.js.MailOffers=function(b){var c={selector:"div.footer"};this.options=jQuery.extend({container:"div.footer",language:"es",cityCode:"BUE"},b);this.options.selector=this.options.container+" div.banner-newsletter";var a=Nibbler.MailOffers.js.EmailOfferRegister({language:this.options.language});var d=$(this.options.selector);d.find(".inputAndSubmit .offersInput").click(function(){$(this).select().addClass("inputFocus");if(!$(this).data("firstValue")){$(this).data("firstValue",$(this).val())}});d.find(".inputAndSubmit .offersInput").on("focusout",function(){if($(this).val().length==0){$(this).val($(this).data("firstValue"))}if($(this).val()==$(this).data("firstValue")){$(this).removeClass("inputFocus")}});d.find(".inputAndSubmit .submit").click($.proxy(function(){a.suscribe(d.find(".inputAndSubmit .offersInput").val(),"submit",1,"superOferts",this.options.container,this.options.cityCode)},this));d.find(".inputAndSubmit .offersInput").on("keyup",$.proxy(function(f){if(f.keyCode==13){a.suscribe($(f.target).val(),"submit",1,"superOferts",this.options.container,this.options.cityCode)}},this))};